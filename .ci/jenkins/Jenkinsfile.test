pipeline {
        agent {
        label 'ubuntu'
    }
    tools {
        maven 'maven_3.8.7'
    }

    // def MAVEN_3_8_6=tool name: 'maven_3.8.6', type: 'hudson.tasks.Maven$MavenInstallation'
    // echo "Testing with Maven $MAVEN_3_8_6"


    options {
        timeout(time: 10, unit: 'MINUTES')
    }

    stages {
        stage('Pre-check') {
            steps {
                sh """#!/bin/bash -el
                whoami
                java --version
                mvn --version
                node --version
                sudo apt install npm
                npm install -g pnpm@8.7.0
                go version
                pnpm --version
                """.trim()
            }
        }
    }
}
